Search.prototype.fetchCollege = function (criteria) {
    //college search
    //logic that will convert name to a unitID
    var college = new College("", "", "", "", "", ""); //create a new college object

    /*we use socket.io to communicate with server. The user will type in the name of a college and that name is sent to server.
     The server looks in the database for that name and returns a 6 digit number called the Unit ID. The
     API requires this number for any information about a certain college.*/
    var temp = {college: criteria}; //this is the object sent to the server. 'criteria' represents the name of the college typed in


    socket.emit('send message', temp); //sends object with criteria back to the server

    socket.on('new message', function(data){ //this listens for the server response to the object just sent. 'data' is the result object returned.
        var unitid = data.college_id; //this is the 6 digit Unit ID
        var s_code = data.state; //this is the 2 letter state code for the state where the college is located. This will be used for the weather API call

        //***College REST API call***
        $.ajax({
            url : "https://nearbycolleges.info/api/everything/" + unitid,
            dataType : "json",
            success : function(parsed_json) {

                college.city = parsed_json.result.location.city; //city where the college is located. Along with the state code will be used for weather API call

                college.state = parsed_json.result.location.state; //state where the college is located

                college.name = parsed_json.result.location.name; //name of the college

                college.admissions = parsed_json.result.admission.acceptanceRate + "%"; //acceptance rate for students at the college

                college.population = parsed_json.result.enrollment.total + " students"; //total student population at school

                college.link = parsed_json.result.location.admissionsWebsite; //link to admissions website

                college.conditions = college.fetchWeather(college.city, data.state); //conditions is a weather object

            },
            error:function() {
                alert("We can't seem to find any information about that college. Be sure to check your spelling!");
            }
        });
        //$results.append('<div class = "return">'+cat_name[i]+':'+values[i]+'</div>');
    });
};
